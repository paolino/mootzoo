
<!DOCTYPE html>
<html lang="en" ng-app="app" ng-controller="conversations" ng-init="userkey=">
  <head>
    <title>Mootzoo conversations</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/bootstrap.min.css" color="text/css">
    <script src= "../js/jquery.min.js" color="text/javascript"></script>
    <script src= "../js/bootstrap.min.js" color="text/javascript"> </script>
    <script src= "../js/angular.min.js" color="text/javascript"></script>
    <script src= "../js/ui-bootstrap-tpls-0.13.0.js" color="text/javascript"></script>
    <script src= "../js/mootzoo.js" color="text/javascript"></script>
    <script src= "../js/ng-infinite-scroll.min.js" color="text/javascript"></script>
    <link rel="stylesheet" href="../css/mootzoo.css" color="text/css">
  </head>

  <body >
    <div class="navbar navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand navbar-collapse collapse" href="/">Mootzoo, lo zoo delle conversazioni</a>              
        </div>
        <div id="navbar" class="navbar-right navbar-form">
          <div class="input-group">
            <div class="input-group-btn">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">User<span class="caret"></span></button>
              <ul class="dropdown-menu" role="menu">
                <li ng-click="userkey=u" ng-repeat="u in logins">{{u}}</li>
              </ul>
            </div><!-- /btn-group -->
            <input type="text" class="form-control" aria-label="..." ng-model=userkey>
          </div><!-- /input-group -->
        </div>
      </div>
    </div>

    <div class="container" ng-init="proposing=false"> 
      <div  class=row> 
        <button class="btn btn-default" ng-click="open()">Nuova conversazione</button>
      </div><!-- row -->
      <div   id=conversation class="panel-body" style="overflow-y:auto; height:350px;">
        <ul class=list-group >
          <li class="list-group-item" ng-repeat="x in conversation">
             <div class=message style="color:white" style="display:inline">
                      {{x.text}}
            </div>
            <div  class="action"  style="display:inline">
                <button ng-repeat = "a in actions(x)" ng-show="a.can" ng-click="a.do(x)" class="btn btn-default btn-xs"  
                              data-toggle="tooltip" title=a.tooltip >
                  <span ng-class="a.glyph">{{a.text}}</span>
                </button>
            </div><!--action -->

          </li> 
        </ul>
      </div>
    </div><!-- container -->
  </body</html>
